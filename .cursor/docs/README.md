# .cursor/docs - 临时文档归档

> **用途**: 存储 Cursor AI 在工作过程中生成的临时验证、决策讨论、问题分析等文档  
> **结构**: 扁平化，所有文档均在根目录  
> **原则**: 文件名自带元数据，无需子目录分类

---

## 📋 命名规范

### 1. 历史归档文档（写完即归档）

**格式**: `YYYY-MM-DD_HHmmss_描述.md` 或 `YYYY-MM-DD_描述.md`

**示例**:
```
2025-11-08_154500_规则治理Phase0验证.md
2025-11-05_091234_SwiftData性能测试.md
2025-11-03_决策_订阅功能实现路径.md
```

**特点**:
- ✅ 时间戳开头，自动按时间排序（`ls -lt`）
- ✅ 下划线后的描述说明主题
- ✅ 不需要移动到子目录

---

### 2. 活跃文档（需要经常引用）

**格式**: 特殊命名，不带时间戳

**示例**:
```
features.md              ← 未实现功能清单（使用 _template-feature.md）
known-issues.md          ← 已知问题清单（使用 _template-issue.md）
golden-context.md        ← 当前周的 Golden Context
current-blockers.md      ← 当前堵点
```

**特点**:
- ✅ 文件名简洁易记
- ✅ 便于 AI 和开发者快速引用
- ✅ 内容随项目进展持续更新

---

## 📝 模板文件

### 功能记录模板

**文件**: `_template-feature.md`

**用途**: 记录未实现的功能

**使用方式**:
1. 复制模板内容
2. 填写功能编号、状态、优先级等信息
3. 添加到 `features.md` 对应优先级章节

**包含字段**:
- 功能编号、状态、优先级
- 问题描述、影响范围
- 修复方案、预计工时
- 是否阻塞、相关文档
- 决策记录

---

### 问题记录模板

**文件**: `_template-issue.md`

**用途**: 记录已知问题、Bug和待修复事项

**使用方式**:
1. 复制模板内容
2. 填写问题编号、状态、优先级等信息
3. 添加到 `known-issues.md` 对应优先级章节

**包含字段**:
- 问题编号、状态、优先级
- 问题描述、根因分析
- 影响范围、修复方案
- 预计工时、修复状态
- 相关文档、备注

---

## 🔍 查找文档

### 按时间查找（最近的文档）
```bash
ls -lt .cursor/docs/ | head -10
```

### 按主题查找
```bash
ls .cursor/docs/ | grep "HealthKit"
ls .cursor/docs/ | grep "规则治理"
```

### 查找所有决策类文档
```bash
ls .cursor/docs/ | grep "决策"
```

---

## 🗂️ 文档分类（通过前缀）

虽然所有文档都在根目录，但可以通过前缀快速识别类型：

| 前缀/关键词 | 说明 | 示例 |
|---------|------|------|
| `验证_` | 技术验证报告 | `2025-11-08_验证_AutoAttach机制.md` |
| `决策_` | 决策讨论（未形成ADR） | `2025-11-03_决策_订阅功能路径.md` |
| `规则治理_` | 规则系统相关 | `2025-11-08_规则治理_Phase1.md` |
| `Week*` | 周验收报告 | `2025-11-03_Week5验收报告.md` |
| `ADR-*-draft` | ADR 草稿 | `2025-11-07_ADR-016-time-handling-draft.md` |
| 无前缀时间戳 | 通用分析/讨论 | `golden-context.md` |

---

## 📤 转正流程

### 当临时文档需要"转正"时

**场景1: 决策被采纳 → 创建正式 ADR**
```bash
# 1. 整理临时文档内容
.cursor/docs/2025-11-03_决策_订阅功能.md

# 2. 创建正式 ADR
docs/03-decisions/ADR-011-subscription-strategy.md

# 3. 临时文档保持不动（作为历史记录）
```

**场景2: 重要经验总结 → 移到 lessons-learned**
```bash
# 1. 从临时文档提取教训
.cursor/docs/2025-11-08_规则治理_Phase0验证.md

# 2. 整理为经验文档
docs/09-lessons-learned/2025-11-08_dialectical-thinking-lesson.md

# 3. 临时文档保持不动（作为历史记录）
```

**原则**: 临时文档永远保留在 `.cursor/docs/`，只是内容"升华"到正式文档

---

## 🧹 清理策略

**建议**: 每 3 个月清理一次

**清理规则**:
- ✅ 保留所有"活跃文档"（无时间戳的特殊命名）
- ✅ 保留最近 3 个月的历史文档
- 🗑️ 删除 3 个月前的文档（可选，如果空间不是问题可全部保留）

**命令示例**:
```bash
# 查看 3 个月前的文档
find .cursor/docs -name "2025-08-*" -o -name "2025-07-*"

# 删除（谨慎操作）
# find .cursor/docs -name "2025-08-*" -delete
```

---

## 💡 设计理念

### 为什么选择扁平结构？

1. **文件名已包含元数据** - 时间戳 + 描述，不需要子目录
2. **维护成本最低** - 不需要判断"这个文档应该放哪个目录"
3. **查找效率最高** - `ls` + `grep` 比递归搜索快
4. **符合实际用途** - 临时文档"写完即归档"，不需要复杂分类

### 核心原则

> **画蛇添足** - 不为归档文件再做归档  
> **简单优先** - 能用文件名解决的问题，不用目录结构  
> **证据优先** - 分类系统必须有明确的使用场景，不做过度设计

---

**最后更新**: 2025-11-12  
**文档总数**: 100+ 个  
**平均增长**: 5-10 个/周
